(()=>{var e={};e.id=386,e.ids=[386],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},46865:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>f,routeModule:()=>v,serverHooks:()=>w,workAsyncStorage:()=>y,workUnitAsyncStorage:()=>h});var n={};t.r(n),t.d(n,{POST:()=>g});var o=t(3245),s=t(40412),a=t(69927);let i=require("mongoose");var p=t.n(i);let u=process.env.MONGODB_URI;if(!u)throw Error("Please define the MONGODB_URI environment variable");let c=global.mongoose;async function l(){return c.conn||(c.promise||(c.promise=p().connect(u,{useNewUrlParser:!0,useUnifiedTopology:!0}).then(e=>e)),c.conn=await c.promise),c.conn}c||(c=global.mongoose={conn:null,promise:null});let d=new(p()).Schema({name:{type:String,required:!0},email:{type:String,required:!0},phone:{type:String,required:!1}}),m=p().models.Contact||p().model("Contact",d);async function g(e){try{await l();let{name:r,email:t,phone:n}=await e.json();if(!r||!t)return new Response(JSON.stringify({error:"Name and email are required."}),{status:400,headers:{"Content-Type":"application/json"}});let o=new m({name:r,email:t,phone:n});return await o.save(),new Response(JSON.stringify({message:"Contact saved successfully."}),{status:201,headers:{"Content-Type":"application/json"}})}catch(e){return new Response(JSON.stringify({error:"Server error."}),{status:500,headers:{"Content-Type":"application/json"}})}}let v=new o.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/contact/route",pathname:"/api/contact",filename:"route",bundlePath:"app/api/contact/route"},resolvedPagePath:"/Users/doankhoa/Documents/Portfolio/src/app/api/contact/route.js",nextConfigOutput:"",userland:n}),{workAsyncStorage:y,workUnitAsyncStorage:h,serverHooks:w}=v;function f(){return(0,a.patchFetch)({workAsyncStorage:y,workUnitAsyncStorage:h})}},75277:()=>{},3245:(e,r,t)=>{"use strict";e.exports=t(30517)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[927],()=>t(46865));module.exports=n})();